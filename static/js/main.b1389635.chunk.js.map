{"version":3,"sources":["components/Searchbar.jsx","components/ImageGallery.jsx","components/ImageGalleryItem.jsx","components/Modal.jsx","components/Button.jsx","App.js","services/apiService.js","index.js"],"names":["Searchbar","onSubmit","className","e","preventDefault","target","elements","picturename","value","type","name","autoComplete","autoFocus","placeholder","ImageGallery","children","ImageGalleryItem","pictures","onClick","map","picture","src","webformatURL","alt","tags","largeImageURL","id","Modal","handleKeyDown","code","props","onClose","handleBackdropClick","currentTarget","window","addEventListener","this","removeEventListener","largeImg","Component","Button","PixabayService","pageNumber","pictureName","a","axios","defaults","baseURL","get","request","data","App","state","reqStatus","showModal","largeImageUrl","imageTags","handleFormSubmit","setState","trim","toast","style","color","backgroundColor","icon","handleLoadMore","incrementPage","pictureFind","then","response","newImages","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","error","alert","message","toggleModal","_","prevState","resetPage","length","showGallery","showLoadMoreBtn","height","width","timeout","position","ReactDOM","render","StrictMode","getElementById"],"mappings":"qTAEe,SAASA,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAMlC,OACE,wBAAQC,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaD,SAPZ,SAACE,GACpBA,EAAEC,iBACFH,EAASE,EAAEE,OAAOC,SAASC,YAAYC,QAKrC,UACE,wBAAQC,KAAK,SAASP,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVQ,KAAK,cACLD,KAAK,OACLE,aAAa,MACbC,WAAS,EACTC,YAAY,kCCnBP,SAASC,EAAT,GAAqC,IAAbC,EAAY,EAAZA,SACrC,OAAO,oBAAIb,UAAU,eAAd,SAA8Ba,ICDxB,SAASC,EAAT,GAAkD,IAAtBC,EAAqB,EAArBA,SAAUC,EAAW,EAAXA,QACnD,OACE,mCACGD,EAASE,KAAI,SAACC,GAAD,OACZ,oBAAqBlB,UAAU,mBAA/B,SACE,qBACEmB,IAAKD,EAAQE,aACbC,IAAKH,EAAQI,KACbtB,UAAU,yBACVgB,QAAS,kBAAMA,EAAQE,EAAQK,cAAeL,EAAQI,UALjDJ,EAAQM,S,ICHJC,E,4MAQnBC,cAAgB,SAACzB,GACA,WAAXA,EAAE0B,MACJ,EAAKC,MAAMC,W,EAIfC,oBAAsB,SAAC7B,GACjBA,EAAE8B,gBAAkB9B,EAAEE,QAAQ,EAAKyB,MAAMC,W,uDAd/C,WACEG,OAAOC,iBAAiB,UAAWC,KAAKR,iB,kCAE1C,WACEM,OAAOG,oBAAoB,UAAWD,KAAKR,iB,oBAa7C,WACE,OACE,qBAAK1B,UAAU,UAAUgB,QAASkB,KAAKJ,oBAAvC,SACE,qBAAK9B,UAAU,QAAf,SACE,qBAAKmB,IAAKe,KAAKN,MAAMQ,SAAUf,IAAKa,KAAKN,MAAMN,e,GAtBtBe,aCDpB,SAASC,EAAT,GAA8B,IAAZtB,EAAW,EAAXA,QAC/B,OACE,wBAAQT,KAAK,SAASP,UAAU,SAASgB,QAASA,EAAlD,SACE,+C,+DCSAuB,EAAiB,I,WCXrB,aAAe,oBACbL,KAAKM,WAAa,E,sFAGpB,WAAkBC,GAAlB,eAAAC,EAAA,6DACEC,IAAMC,SAASC,QAAU,2BACX,qCAFhB,kBAI0BF,IAAMG,IAAN,eAFV,qCAEU,cACDL,EADC,iBACmBP,KAAKM,WADxB,yDAJ1B,cAIUO,EAJV,yBAOWA,EAAQC,MAPnB,wH,kFAaA,WACEd,KAAKM,YAAc,I,uBAGrB,WACEN,KAAKM,WAAa,M,MDTDS,E,4MACnBC,MAAQ,CACNT,YAAa,KACb1B,SAAU,GACVoC,UAAW,OACXC,WAAW,EACXC,cAAe,KACfC,UAAW,M,EAyBbC,iBAAmB,SAACd,GAClB,EAAKe,SAAS,CAAEf,YAAaA,EAAYgB,SACrChB,EAAYgB,SAAW,EAAKP,MAAMT,aACpCiB,YAAM,4BAA6B,CACjCC,MAAO,CAAEC,MAAO,OAAQC,gBAAiB,UACzCC,KAAM,kB,EAKZC,eAAiB,WACf,EAAKP,SAAS,CAAEL,UAAW,YAC3BZ,EAAeyB,gBACfzB,EAAe0B,YAAY,EAAKf,MAAMT,aACnCyB,MAAK,SAACC,GACL,IAAMC,EAAYD,EAASE,KAC3B,EAAKb,SAAS,CACZzC,SAAS,GAAD,mBAAM,EAAKmC,MAAMnC,UAAjB,YAA8BqD,MAExCpC,OAAOsC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,cAGbC,OAAM,SAACC,GAAD,OAAWC,MAAMD,EAAME,YAChC,EAAKvB,SAAS,CAAEL,UAAW,c,EAG7B6B,YAAc,SAACzD,EAAe+B,GAC5B,EAAKE,UAAS,kBAAoB,CAAEJ,WAAtB,EAAGA,cACjB,EAAKI,SAAS,CAAEH,cAAe9B,EAAe+B,e,wDApDhD,SAAmB2B,EAAGC,GAAY,IAAD,OACvBzC,EAAgBP,KAAKgB,MAArBT,YACY,KAAhBA,EACFiB,IAAMmB,MAAM,+BAERK,EAAUzC,cAAgBA,IAC5BP,KAAKsB,SAAS,CAAEzC,SAAU,GAAIoC,UAAW,YACzCZ,EAAe4C,YACf5C,EAAe0B,YAAYxB,GACxByB,MAAK,SAACC,GACwB,IAAzBA,EAASE,KAAKe,QAChB,EAAK5B,SAAS,CAAEL,UAAW,aAC3BO,IAAMmB,MAAM,iCAEZ,EAAKrB,SAAS,CAAEzC,SAAUoD,EAASE,KAAMlB,UAAW,gBAGvDyB,OAAM,SAACC,GAAD,OAAWC,MAAMD,EAAME,e,oBAsCtC,WACE,MACE7C,KAAKgB,MADCnC,EAAR,EAAQA,SAAUoC,EAAlB,EAAkBA,UAAWC,EAA7B,EAA6BA,UAAWC,EAAxC,EAAwCA,cAAeC,EAAvD,EAAuDA,UAEjD+B,EAActE,EAASqE,OAAS,EAChCE,EAAkBvE,EAASqE,QAAU,GAC3C,OACE,gCACE,cAAC,EAAD,CAAUrF,SAAUmC,KAAKqB,mBAExB8B,GACC,cAACzE,EAAD,UACE,cAACE,EAAD,CAAkBC,SAAUA,EAAUC,QAASkB,KAAK8C,gBAGzC,YAAd7B,GACC,qBAAKnD,UAAU,kBAAf,SACE,cAAC,IAAD,CACEO,KAAK,YACLqD,MAAM,UACN2B,OAAQ,IACRC,MAAO,IACPC,QAAS,QAIdH,GAAmB,cAAChD,EAAD,CAAQtB,QAASkB,KAAK6B,iBACzCX,GACC,cAAC,EAAD,CACEhB,SAAUiB,EACV/B,KAAMgC,EACNzB,QAASK,KAAK8C,cAGlB,cAAC,IAAD,CAASU,SAAS,qB,GAlGOrD,aEXjCsD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFrB,SAASsB,eAAe,W","file":"static/js/main.b1389635.chunk.js","sourcesContent":["import PropTypes from 'prop-types'\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    onSubmit(e.target.elements.picturename.value)\r\n  }\r\n\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          name=\"picturename\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  )\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n}\r\n","import PropTypes from 'prop-types'\r\n\r\nexport default function ImageGallery({ children }) {\r\n  return <ul className=\"ImageGallery\">{children}</ul>\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.node,\r\n}\r\n","import PropTypes from 'prop-types'\r\n\r\nexport default function ImageGalleryItem({ pictures, onClick }) {\r\n  return (\r\n    <>\r\n      {pictures.map((picture) => (\r\n        <li key={picture.id} className=\"ImageGalleryItem\">\r\n          <img\r\n            src={picture.webformatURL}\r\n            alt={picture.tags}\r\n            className=\"ImageGalleryItem-image\"\r\n            onClick={() => onClick(picture.largeImageURL, picture.tags)}\r\n          />\r\n        </li>\r\n      ))}\r\n    </>\r\n  )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  pictures: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown)\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown)\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose()\r\n    }\r\n  }\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) this.props.onClose()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.largeImg} alt={this.props.tags} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n}\r\n","import PropTypes from 'prop-types'\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\r\n      <span>Load more</span>\r\n    </button>\r\n  )\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n}\r\n","import \"./App.css\";\n\nimport React, { Component } from \"react\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport Serchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery.jsx\";\nimport ImageGalleryItem from \"./components/ImageGalleryItem.jsx\";\nimport Modal from \"./components/Modal.jsx\";\nimport Button from \"./components/Button.jsx\";\nimport Loader from \"react-loader-spinner\";\nimport PixabayServiseApi from \"./services/apiService\";\n\nconst PixabayService = new PixabayServiseApi();\n\nexport default class App extends Component {\n  state = {\n    pictureName: null,\n    pictures: [],\n    reqStatus: \"idle\", //idle, pending, resolved, rejected\n    showModal: false,\n    largeImageUrl: null,\n    imageTags: null,\n  };\n\n  componentDidUpdate(_, prevState) {\n    const { pictureName } = this.state;\n    if (pictureName === \"\") {\n      toast.error(\"Please, enter the key word!\");\n    } else {\n      if (prevState.pictureName !== pictureName) {\n        this.setState({ pictures: [], reqStatus: \"pending\" });\n        PixabayService.resetPage();\n        PixabayService.pictureFind(pictureName)\n          .then((response) => {\n            if (response.hits.length === 0) {\n              this.setState({ reqStatus: \"rejected\" });\n              toast.error(\"We tried, but can't find any\");\n            } else {\n              this.setState({ pictures: response.hits, reqStatus: \"resolved\" });\n            }\n          })\n          .catch((error) => alert(error.message));\n      }\n    }\n  }\n\n  handleFormSubmit = (pictureName) => {\n    this.setState({ pictureName: pictureName.trim() });\n    if (pictureName.trim() === this.state.pictureName) {\n      toast(\"Look, We already find it!\", {\n        style: { color: \"blue\", backgroundColor: \"yellow\" },\n        icon: \"ðŸ”¥\",\n      });\n    }\n  };\n\n  handleLoadMore = () => {\n    this.setState({ reqStatus: \"pending\" });\n    PixabayService.incrementPage();\n    PixabayService.pictureFind(this.state.pictureName)\n      .then((response) => {\n        const newImages = response.hits;\n        this.setState({\n          pictures: [...this.state.pictures, ...newImages],\n        });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((error) => alert(error.message));\n    this.setState({ reqStatus: \"resolved\" });\n  };\n\n  toggleModal = (largeImageURL, imageTags) => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n    this.setState({ largeImageUrl: largeImageURL, imageTags });\n  };\n\n  render() {\n    const { pictures, reqStatus, showModal, largeImageUrl, imageTags } =\n      this.state;\n    const showGallery = pictures.length > 1;\n    const showLoadMoreBtn = pictures.length >= 12;\n    return (\n      <div>\n        <Serchbar onSubmit={this.handleFormSubmit} />\n\n        {showGallery && (\n          <ImageGallery>\n            <ImageGalleryItem pictures={pictures} onClick={this.toggleModal} />\n          </ImageGallery>\n        )}\n        {reqStatus === \"pending\" && (\n          <div className=\"loaderContainer\">\n            <Loader\n              type=\"ThreeDots\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              timeout={3000}\n            />\n          </div>\n        )}\n        {showLoadMoreBtn && <Button onClick={this.handleLoadMore} />}\n        {showModal && (\n          <Modal\n            largeImg={largeImageUrl}\n            tags={imageTags}\n            onClose={this.toggleModal}\n          />\n        )}\n        <Toaster position=\"top-right\" />\n      </div>\n    );\n  }\n}\n","import axios from \"axios\";\n\nexport default class PixabayServiseApi {\n  constructor() {\n    this.pageNumber = 1;\n  }\n\n  async pictureFind(pictureName) {\n    axios.defaults.baseURL = \"https://pixabay.com/api/\";\n    const myKey = \"21807321-d1b9b9077da7f78b4c19cddb8\";\n    try {\n      const request = await axios.get(\n        `?key=${myKey}&q=${pictureName}&page=${this.pageNumber}&per_page=12&image_type=photo&orientation=horizontal`\n      );\n      return request.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  incrementPage() {\n    this.pageNumber += 1;\n  }\n\n  resetPage() {\n    this.pageNumber = 1;\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}